@page
@model BankStartWeb.Pages.Customerpages.CustomersModel
@{
}

<form method="get">
    <input asp-for="@Model.SearchWord" />
    <input type="submit" value="Sök"/>
</form>

<table>
    <tr>
        <th>
            <a asp-route-col="Givenname" asp-route-order="asc"  asp-route-searchWord="@Model.SearchWord" asp-page="/Customerpages/Customers"><i class='bx bx-sort-up'></i></a> 
            Firstname
            <a asp-route-col="Givenname" asp-route-order="desc"  asp-route-searchWord="@Model.SearchWord" asp-page="/Customerpages/Customers"><i class='bx bx-sort-down'></i></a>
        </th>
        <th>
            <a asp-route-col="surname" asp-route-order="asc"  asp-route-searchWord="@Model.SearchWord" asp-page="/Customerpages/Customers"><i class='bx bx-sort-up' ></i></a>
                Surname
            <a asp-route-col="surname" asp-route-order="desc"  asp-route-searchWord="@Model.SearchWord" asp-page="/Customerpages/Customers"><i class='bx bx-sort-down'></i> </a>
        </th>
        <th>
            <a asp-route-col="nationalid" asp-route-order="asc"  asp-route-searchWord="@Model.SearchWord" asp-page="/Customerpages/Customers"><i class='bx bx-sort-up'></i> </a> 
                NationalId
            <a asp-route-col="nationalid" asp-route-order="desc"  asp-route-searchWord="@Model.SearchWord" asp-page="/Customerpages/Customers"><i class='bx bx-sort-down'></i>  </a>
        </th>
    </tr>
       @foreach(var customer in Model.Customers)
       {
        <tr>
           <td>@customer.Givenname</td>
           <td>@customer.Surname</td>
           <td>@customer.NationalId</td>
          <td><a class="ctabutton" asp-page="/CustomerPages/Customer" asp-route-customerId="@customer.Id">View</a> </td>
       </tr>
        }
        <tr>
            <td>
                @if(Model.PageNo > 1)
                {
                <a asp-page="/CustomerPages/Customers" asp-route-pageno="1">First</a>
                <a asp-page="/CustomerPages/Customers"  asp-route-searchWord="@Model.SearchWord" asp-route-col="@Model.SortCol" asp-route-order="@Model.SortOrder" asp-route-pageno="@(Model.PageNo-1)">Prev</a>
                }
                </td>
            <td>Visar sidan @Model.PageNo av totalt @Model.TotalPageCount</td>
            <td>
                @if (Model.PageNo < Model.TotalPageCount)
                {
                    <a asp-page="/CustomerPages/Customers"  asp-route-searchWord="@Model.SearchWord" asp-route-col="@Model.SortCol" asp-route-order="@Model.SortOrder" asp-route-pageno="@(Model.PageNo+1)">Next</a>
                    <a asp-page="/CustomerPages/Customers" asp-route-pageno="@Model.TotalPageCount">Last</a>
                }
            </td>
        </tr>
</table>